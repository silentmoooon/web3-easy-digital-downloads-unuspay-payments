!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";const e="C:\\Users\\xiecan\\dev\\depay\\web3-easy-digital-downloads-unuspay-payments\\src\\admin\\AdminSettingsPage.js";window.React.useRef;const t=window.React.useState,s=window.React.useEffect;function a(a){const{Button:i}=window.wp.components,[c,n]=t(!1),[l,o]=t(),[m,r]=t(),[_,u]=t("UnusPay"),[N,w]=t();return s((()=>{wp.api.loadPromise.then((()=>{(new wp.api.models.Settings).fetch().then((e=>{n(!0),u(e.unuspay_wc_checkout_title||"UnusPay"),w(e.unuspay_wc_payment_key||"")}))})).catch((()=>{}))}),[]),s((()=>{if(tokens){let e={};tokens.forEach((t=>{null==e[t.blockchain]?e[t.blockchain]=1:e[t.blockchain]+=1})),setTooManyTokensPerChain(!!Object.values(e).find((e=>e>2)))}}),[tokens]),s((()=>{r(!(tokens&&tokens.length&&tokens.every((e=>e.receiver&&e.receiver.length>0&&void 0===e.error))))}),[tokens]),c?React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:135}},React.createElement("div",{className:"woocommerce-section-header",__self:this,__source:{fileName:e,lineNumber:136}},React.createElement("h2",{className:"woocommerce-section-header__title woocommerce-section-header__header-item",__self:this,__source:{fileName:e,lineNumber:137}},"Settings"),React.createElement("hr",{role:"presentation",__self:this,__source:{fileName:e,lineNumber:140}})),"1"!==window.UNUSPAY_WC_SETUP.bcmath&&React.createElement("div",{className:"woocommerce-settings__wrapper",__self:this,__source:{fileName:e,lineNumber:144}},React.createElement("div",{className:"woocommerce-setting",__self:this,__source:{fileName:e,lineNumber:145}},React.createElement("div",{className:"woocommerce-setting__label",__self:this,__source:{fileName:e,lineNumber:146}},React.createElement("label",{for:"unuspay-woocommerce-payment-receiver-address",__self:this,__source:{fileName:e,lineNumber:147}},"Missing Requirements")),React.createElement("div",{className:"woocommerce-setting__input",__self:this,__source:{fileName:e,lineNumber:151}},React.createElement("div",{className:"notice inline notice-warning notice-alt",__self:this,__source:{fileName:e,lineNumber:152}},React.createElement("p",{__self:this,__source:{fileName:e,lineNumber:153}},'You need to install the "bcmath" php package!Â ',React.createElement("a",{href:"https://www.google.com/search?q=how+to+install+bcmath+php+wordpress",target:"_blank",__self:this,__source:{fileName:e,lineNumber:156}},"Learn How")))))),window.location.hash.match("unuspay-settings-saved")&&React.createElement("div",{className:"woocommerce-settings__wrapper",__self:this,__source:{fileName:e,lineNumber:170}},React.createElement("div",{className:"woocommerce-setting",__self:this,__source:{fileName:e,lineNumber:171}},React.createElement("div",{className:"woocommerce-setting__label",__self:this,__source:{fileName:e,lineNumber:172}},React.createElement("label",{for:"unuspay-woocommerce-payment-receiver-address",__self:this,__source:{fileName:e,lineNumber:173}})),React.createElement("div",{className:"woocommerce-setting__input",__self:this,__source:{fileName:e,lineNumber:175}},React.createElement("div",{className:"notice inline notice-success notice-alt",__self:this,__source:{fileName:e,lineNumber:176}},React.createElement("p",{__self:this,__source:{fileName:e,lineNumber:177}},"Settings have been saved successfully."))))),React.createElement("div",{className:"woocommerce-settings__wrapper",__self:this,__source:{fileName:e,lineNumber:186}},React.createElement("div",{className:"woocommerce-setting",__self:this,__source:{fileName:e,lineNumber:187}},React.createElement("div",{className:"woocommerce-setting__label",__self:this,__source:{fileName:e,lineNumber:188}},React.createElement("label",{__self:this,__source:{fileName:e,lineNumber:189}},"Payment key")),React.createElement("div",{className:"woocommerce-setting__input",__self:this,__source:{fileName:e,lineNumber:191}},React.createElement("div",{className:"woocommerce-setting__options-group",__self:this,__source:{fileName:e,lineNumber:192}},React.createElement("p",{className:"description",__self:this,__source:{fileName:e,lineNumber:193}},"To increase your request limit towards UnusPay APIs, please enter your Payment key here:"),React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:197}},React.createElement("label",{__self:this,__source:{fileName:e,lineNumber:198}},React.createElement("span",{className:"woocommerce-settings-historical-data__progress-label",__self:this,__source:{fileName:e,lineNumber:199}},"Payment key"),React.createElement("input",{type:"text",value:N||"",onChange:e=>{w(e.target.value)},style:{width:"100%"},__self:this,__source:{fileName:e,lineNumber:202}}))))))),React.createElement("div",{className:"woocommerce-settings__wrapper",__self:this,__source:{fileName:e,lineNumber:217}},React.createElement("div",{className:"woocommerce-setting",__self:this,__source:{fileName:e,lineNumber:218}},React.createElement("div",{className:"woocommerce-setting__label",__self:this,__source:{fileName:e,lineNumber:219}},React.createElement("label",{__self:this,__source:{fileName:e,lineNumber:220}},"Save")),React.createElement("div",{className:"woocommerce-setting__input",__self:this,__source:{fileName:e,lineNumber:222}},React.createElement("div",{className:"woocommerce-setting__options-group",__self:this,__source:{fileName:e,lineNumber:223}},React.createElement("p",{className:"description",__self:this,__source:{fileName:e,lineNumber:224}},"Make sure to save your settings:"))))),React.createElement("div",{className:"woocommerce-settings__wrapper",__self:this,__source:{fileName:e,lineNumber:232}},React.createElement("div",{className:"woocommerce-setting",__self:this,__source:{fileName:e,lineNumber:233}},React.createElement("div",{className:"woocommerce-setting__label",__self:this,__source:{fileName:e,lineNumber:234}}),React.createElement("div",{className:"woocommerce-setting__input",__self:this,__source:{fileName:e,lineNumber:235}},React.createElement(i,{isPrimary:!0,isLarge:!0,onClick:()=>(o(!0),void new window.wp.api.models.Settings({depay_wc_checkout_title:_,unuspay_wc_payment_key:N}).save().then((e=>{window.location.hash="unuspay-settings-saved",window.location.reload(!0)}))),__self:this,__source:{fileName:e,lineNumber:236}},"Save Settings"))))):null}window.wp.element,window.wp.components,window.wc.components,window.wc.navigation;const i=window.React.useEffect;function c(e){return i((()=>{window.location.search="?page=wc-admin&path=%2Funuspay%2Fsettings"}),[]),null}!function(e,t){t.addFilter("woocommerce_admin_onboarding_task_list","unuspay-woocommerce-payments",(t=>{let s="1"==window.UNUSPAY_WC_SETUP.done;const a={key:"setup_unuspay_wc_payments",title:"Set up UnusPay",content:"Simply connect your wallet and select the tokens you want to receive as payments.",container:e.createElement(c,{__self:this,__source:{fileName:"C:\\Users\\xiecan\\dev\\depay\\web3-easy-digital-downloads-unuspay-payments\\src\\admin.js",lineNumber:17}}),completed:s,visible:!s,additionalInfo:"Simply connect your wallet and select the tokens you want to receive as payments.",time:"1 minute",isDismissable:!1,type:"extension"};return[...t,a,{...a,key:"payments",visible:!1}]})),t.addFilter("woocommerce_admin_pages_list","unuspay-woocommerce-payments",(e=>(e.push({container:a,path:"/unuspay/settings",breadcrumbs:["UnusPay","Settings"],capability:"manage_woocommerce",wpOpenMenu:"toplevel_page_wc-admin-path--unuspay-settings",navArgs:{id:"unuspay-woocommerce-payments-settings"}}),e)))}(window.React,window.wp.hooks)}));
